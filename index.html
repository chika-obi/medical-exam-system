<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>MedEx ‚Äî Professional Proctored Exam Platform</title>
<meta name="description" content="MedEx ‚Äî Secure, proctored and audited online exams for medical schools. Randomized questions, instant grading, proctor logs and reporting." />
<style>
  /* ===========================
     MedEx ‚Äî Complete Landing Page
     Single-file HTML/CSS/JS (pure)
     =========================== */

  :root{
    --navy: #062147;
    --teal: #0ea79b;
    --green: #2e8b57;
    --muted: #586572;
    --accent: #ffd166;
    --bg: #f6f9fc;
    --card: #ffffff;
    --glass: rgba(255,255,255,0.6);
    --maxw: 1200px;
    --radius: 14px;
  }

  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{
    font-family: Inter, "Segoe UI", system-ui, -apple-system, "Helvetica Neue", Arial;
    background: linear-gradient(180deg,#f7fbff 0%, var(--bg) 100%);
    color: #0c2033;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    line-height:1.45;
    overflow-x:hidden;
  }
  a{color:inherit;text-decoration:none}
  img{max-width:100%;display:block}

  /* ---------- Preloader ---------- */
  #preloader{
    position:fixed;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;
    background:linear-gradient(180deg,var(--navy),#09306b);z-index:99999;color:#fff;
  }
  .preloader-ring{width:80px;height:80px;border-radius:50%;border:6px solid rgba(255,255,255,0.12);border-top-color:var(--accent);animation:spin 1.1s linear infinite}
  @keyframes spin{to{transform:rotate(360deg)}}
  .preloader-text{margin-top:12px;font-weight:700;letter-spacing:0.4px}

  /* ---------- Top Navigation ---------- */
  header{
    position:fixed;left:50%;transform:translateX(-50%);top:18px;z-index:1200;
    width:calc(100% - 36px);max-width:var(--maxw);background:rgba(255,255,255,0.6);
    padding:10px 14px;border-radius:999px;display:flex;justify-content:space-between;align-items:center;
    box-shadow:0 8px 30px rgba(12,32,60,0.06);backdrop-filter: blur(8px);
  }
  .brand{display:flex;align-items:center;gap:12px}
  .brand svg{width:44px;height:44px}
  .brand .name{font-weight:800;color:var(--navy);font-size:1.05rem}
  nav{display:flex;gap:12px;align-items:center}
  nav a{padding:8px 12px;border-radius:10px;color:var(--navy);font-weight:600;transition:all .18s}
  nav a:hover{background:rgba(11,61,145,0.06);transform:translateY(-3px)}
  .actions{display:flex;gap:10px}
  .btn{padding:10px 14px;border-radius:10px;font-weight:800;cursor:pointer;border:none}
  .btn-ghost{background:transparent;border:1px solid rgba(11,61,145,0.06);color:var(--navy)}
  .btn-primary{background:linear-gradient(90deg,var(--teal),var(--green));color:#fff;box-shadow:0 12px 30px rgba(14,167,155,0.12)}

  /* ---------- Hero ---------- */
  .hero{
    position:relative;min-height:92vh;padding:120px 20px 80px;display:flex;align-items:center;justify-content:center;overflow:hidden;
  }
  canvas#heroCanvas{position:absolute;inset:0;z-index:0;pointer-events:none}
  .hero-inner{position:relative;z-index:4;max-width:var(--maxw);width:100%;display:grid;grid-template-columns:1fr 520px;gap:36px;align-items:center}
  @media(max-width:980px){.hero-inner{grid-template-columns:1fr;gap:28px}}

  .hero-left{padding:6px}
  .badge{display:inline-block;background:linear-gradient(90deg,var(--teal),var(--green));color:#fff;padding:8px 12px;border-radius:999px;font-weight:800;margin-bottom:18px}
  .hero-title{font-size:2.6rem;line-height:1.02;color:var(--navy);margin-bottom:14px}
  .hero-sub{color:var(--muted);font-size:1.05rem;margin-bottom:20px;max-width:64ch}
  .typewriter{font-weight:700;color:var(--navy);font-size:1.12rem;margin-bottom:16px;min-height:32px}

  .cta-row{display:flex;gap:12px;align-items:center;margin-bottom:16px}
  .metrics{display:flex;gap:12px;flex-wrap:wrap}
  .metric{background:var(--card);padding:10px 12px;border-radius:12px;box-shadow:0 10px 30px rgba(8,20,50,0.04);font-weight:800;color:var(--muted)}

  /* ---------- Right hero card (SVG + micro canvas) ---------- */
  .hero-card{
    position:relative;background:linear-gradient(180deg,#fff,#f8fdff);border-radius:16px;box-shadow:0 30px 80px rgba(8,20,50,0.06);
    padding:18px;min-height:420px;display:flex;flex-direction:column;align-items:center;justify-content:center;overflow:hidden;
  }
  .hero-illustration{width:100%;max-width:480px;position:relative;z-index:2}
  .micro-canvas{position:absolute;inset:0;z-index:0;opacity:0.14;pointer-events:none}

  /* ---------- stats / achievements ---------- */
  .stats{display:flex;gap:18px;justify-content:center;margin-top:18px;flex-wrap:wrap}
  .stat{background:rgba(255,255,255,0.95);padding:12px 16px;border-radius:12px;box-shadow:0 10px 30px rgba(8,20,50,0.04);text-align:center}
  .stat .num{font-weight:900;color:var(--navy);font-size:1.25rem}
  .stat .lbl{color:var(--muted);font-weight:700;font-size:0.9rem}

  /* ---------- Sections ---------- */
  section{padding:72px 20px}
  .container{max-width:var(--maxw);margin:0 auto}
  .section-title{text-align:center;font-size:1.6rem;color:var(--navy);margin-bottom:18px}

  .features-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
  @media(max-width:980px){.features-grid{grid-template-columns:repeat(2,1fr)}}
  @media(max-width:600px){.features-grid{grid-template-columns:1fr}}

  .feature{background:var(--card);padding:18px;border-radius:12px;box-shadow:0 12px 30px rgba(8,20,50,0.04);transition:transform .28s}
  .feature:hover{transform:translateY(-8px)}
  .feature h3{color:var(--navy);margin-bottom:8px}
  .feature p{color:var(--muted)}

  /* ---------- How it works ---------- */
  .steps-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
  @media(max-width:980px){.steps-grid{grid-template-columns:1fr}}
  .step{background:#fff;padding:18px;border-radius:12px;box-shadow:0 12px 30px rgba(8,20,50,0.04);text-align:center}
  .step .num{display:inline-block;background:linear-gradient(90deg,var(--teal),var(--green));color:#fff;padding:8px 12px;border-radius:999px;margin-bottom:10px}

  /* ---------- Countdown banner ---------- */
  .countdown-banner{display:flex;gap:14px;align-items:center;justify-content:center;background:linear-gradient(90deg, rgba(14,167,155,0.06), rgba(46,139,87,0.04));padding:14px;border-radius:12px;margin-top:12px}

  /* ---------- Testimonials ---------- */
  .testimonials{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
  @media(max-width:980px){.testimonials{grid-template-columns:1fr}}
  .testimonial{background:#fff;padding:16px;border-radius:12px;box-shadow:0 12px 30px rgba(8,20,50,0.04)}

  /* ---------- FAQ ---------- */
  .faq{max-width:880px;margin:0 auto}
  .faq-item{background:#fff;margin-bottom:10px;padding:12px;border-radius:10px;box-shadow:0 8px 20px rgba(8,20,50,0.04)}
  .faq-q{display:flex;justify-content:space-between;align-items:center;cursor:pointer}
  .faq-a{margin-top:10px;color:var(--muted);display:none}

  /* ---------- contact ---------- */
  .contact-grid{display:grid;grid-template-columns:1fr 360px;gap:18px}
  @media(max-width:980px){.contact-grid{grid-template-columns:1fr}}
  .contact-card{background:#fff;padding:18px;border-radius:12px;box-shadow:0 12px 30px rgba(8,20,50,0.04)}
  input,textarea{width:100%;padding:12px;border-radius:8px;border:1px solid #eef6ff;margin-bottom:12px}

  /* ---------- footer ---------- */
  footer{background:linear-gradient(180deg,var(--navy),#083a63);color:#fff;padding:28px 20px;text-align:center}

  /* ---------- small utilities and animations ---------- */
  .reveal{opacity:0;transform:translateY(18px);transition:all .8s cubic-bezier(.2,.9,.2,1)}
  .reveal.show{opacity:1;transform:none}
  .type-strong{color:var(--teal);font-weight:800}
  .cursor{display:inline-block;color:var(--accent);animation:blink 700ms steps(1) infinite}
  @keyframes blink{50%{opacity:0}}
  #toTop{position:fixed;right:18px;bottom:18px;background:var(--navy);color:#fff;padding:10px 12px;border-radius:12px;display:none;cursor:pointer;z-index:1400}
  .small{font-size:.9rem;color:var(--muted)}

</style>
</head>
<body style="overflow:hidden">

  <!-- PRELOADER -->
  <div id="preloader" role="status" aria-label="Loading MedEx">
    <div class="preloader-ring" aria-hidden="true"></div>
    <div class="preloader-text">MedEx ‚Äî initializing secure exam environment</div>
  </div>

  <!-- NAV -->
  <header role="banner">
    <div class="brand" aria-hidden="false">
      <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <defs><linearGradient id="lg" x1="0" x2="1"><stop offset="0" stop-color="#0EA79B"/><stop offset="1" stop-color="#2E8B57"/></linearGradient></defs>
        <rect x="6" y="10" width="44" height="40" rx="6" fill="url(#lg)"></rect>
        <path d="M10 18h32v4H10zM10 26h32v4H10z" fill="#fff" opacity="0.95"/>
        <circle cx="54" cy="18" r="6" fill="#fff" opacity="0.95"/>
      </svg>
      <div class="name">MedEx</div>
    </div>

    <nav aria-label="Main navigation">
      <a href="#about">About</a>
      <a href="#features">Features</a>
      <a href="#how">How it works</a>
      <a href="#faq">FAQ</a>
      <a href="#contact">Contact</a>
    </nav>

    <div class="actions">
      <a class="btn btn-ghost" href="login.html">Student</a>
      <a class="btn btn-primary" href="login.html">Admin</a>
    </div>
  </header>

  <!-- HERO -->
  <main class="hero" id="home" aria-label="Hero Section">
    <canvas id="heroCanvas" aria-hidden="true"></canvas>
    <div class="hero-inner">
      <!-- LEFT -->
      <div class="hero-left">
        <div class="badge reveal">Proctored ‚Ä¢ Secure ‚Ä¢ Accredited</div>
        <h1 class="hero-title reveal">Professional Proctored Exams for Medical Education</h1>
        <div class="typewriter reveal">
          <span id="typed"></span><span class="cursor" aria-hidden="true">|</span>
        </div>
        <p class="hero-sub reveal">MedEx provides secure timed exams with webcam-based proctoring, randomized questions, instant grading and detailed audit logs ‚Äî optimized for medical schools and institutions.</p>

        <div class="cta-row reveal">
          <a class="btn btn-primary" href="login.html">üöÄ Start Practice</a>
          <a class="btn btn-ghost" href="login.html">‚öôÔ∏è Admin Panel</a>
        </div>

        <div class="stats reveal" aria-hidden="true" style="margin-top:12px">
          <div class="stat"><div class="num" data-target="52">0</div><div class="lbl">Available Exams</div></div>
          <div class="stat"><div class="num" data-target="1200">0</div><div class="lbl">Completed Attempts</div></div>
          <div class="stat"><div class="num" data-target="900">0</div><div class="lbl">Registered Students</div></div>
        </div>

        <div class="countdown-banner reveal" style="margin-top:18px" id="countdownWrapper" aria-live="polite">
          <div class="small">Next Exam:</div>
          <div id="countdownText" style="font-weight:900;color:var(--navy)">No upcoming exams scheduled</div>
        </div>
      </div>

      <!-- RIGHT (Illustration + micro canvas) -->
      <aside class="hero-card reveal" role="img" aria-label="Illustration of exam interface">
        <canvas class="micro-canvas" width="480" height="360" aria-hidden="true"></canvas>
        <!-- SVG/Canva style illustration (friendly, medical) -->
        <div class="hero-illustration" aria-hidden="true">
          <svg viewBox="0 0 640 420" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet">
            <defs>
              <linearGradient id="grad1" x1="0" x2="1"><stop offset="0" stop-color="#0ea79b"/><stop offset="1" stop-color="#2e8b57"/></linearGradient>
              <filter id="dropshad"><feDropShadow dx="0" dy="18" stdDeviation="30" flood-color="#072248" flood-opacity="0.06"/></filter>
            </defs>

            <rect x="30" y="28" rx="18" width="580" height="364" fill="#fff" filter="url(#dropshad)"/>
            <rect x="52" y="62" rx="10" width="496" height="44" fill="url(#grad1)"/>
            <text x="78" y="94" font-size="18" fill="#fff" font-weight="700">MedEx ‚Äî Mock Exam ‚Ä¢ Q12 of 50</text>

            <g transform="translate(78,128)">
              <rect width="460" height="84" rx="10" fill="#f6fcfc" stroke="#e9f8f6"/>
              <text x="16" y="36" font-size="15" fill="#07324d" font-weight="700">Which is the primary function of the pancreas?</text>
            </g>

            <g transform="translate(78,224)"><rect width="460" height="44" rx="8" fill="#fff" stroke="#eef9f6"/><text x="16" y="28" font-size="14" fill="#0b2f45">A. Insulin production</text></g>
            <g transform="translate(78,276)"><rect width="460" height="44" rx="8" fill="#fff" stroke="#eef9f6"/><text x="16" y="28" font-size="14" fill="#0b2f45">B. Bile secretion</text></g>
            <g transform="translate(78,328)"><rect width="460" height="44" rx="8" fill="#fff" stroke="#eef9f6"/><text x="16" y="28" font-size="14" fill="#0b2f45">C. Blood filtration</text></g>

            <!-- decorative floating medical icons (subtle) -->
            <g transform="translate(520,36)"><circle r="22" cx="0" cy="0" fill="#fff" opacity="0.9"/><path d="M-6 -2h12M0 -2v12" stroke="#2e8b57" stroke-width="2" stroke-linecap="round"/></g>
            <g transform="translate(540,310)"><circle r="18" cx="0" cy="0" fill="#fff" opacity="0.9"/><path d="M-10 0h20" stroke="#0ea79b" stroke-width="2" stroke-linecap="round"/></g>
          </svg>
        </div>
      </aside>
    </div>
  </main>

  <!-- ABOUT -->
  <section id="about" class="container reveal">
    <h2 class="section-title">About MedEx</h2>
    <p style="max-width:900px;margin:0 auto;color:var(--muted);text-align:center">
      MedEx is a secure, auditable, and accessible online exam platform designed for medical education. It supports randomized questions, per-student shuffling, webcam proctoring, detailed exam logs, and instant result analytics ‚Äî all with an easy-to-use admin interface.
    </p>
  </section>

  <!-- FEATURES -->
  <section id="features" class="container reveal">
    <h2 class="section-title">Core Features</h2>
    <div class="features-grid">
      <div class="feature"><h3>Secure Proctoring</h3><p>Webcam snapshots, activity logging and event markers ensure integrity.</p></div>
      <div class="feature"><h3>Randomized Delivery</h3><p>Unique question and option shuffles per student reduce collusion.</p></div>
      <div class="feature"><h3>Instant Grading</h3><p>Automated scoring with per-question analysis and exportable reports.</p></div>
      <div class="feature"><h3>Admin Controls</h3><p>Schedule exams, set durations, review proctor logs, and export CSVs.</p></div>
      <div class="feature"><h3>Responsive UI</h3><p>Optimized for desktop and mobile devices.</p></div>
      <div class="feature"><h3>Local-First Mode</h3><p>Option to run with browser localStorage for small deployments or testing.</p></div>
    </div>
  </section>

  <!-- HOW IT WORKS -->
  <section id="how" class="container reveal">
    <h2 class="section-title">How It Works</h2>
    <div class="steps-grid">
      <div class="step"><div class="num">1</div><h4>Register / Login</h4><p>Sign in as student or admin and access your dashboard.</p></div>
      <div class="step"><div class="num">2</div><h4>Start Exam</h4><p>Consent to proctoring, start the timer, and complete the exam.</p></div>
      <div class="step"><div class="num">3</div><h4>Review Results</h4><p>Instant results with per-question review and proctor logs.</p></div>
    </div>
  </section>

  <!-- STATS / TESTIMONIALS -->
  <section id="stats" class="container reveal">
    <h2 class="section-title">Trusted by Institutions</h2>
    <div style="display:flex;gap:18px;align-items:center;justify-content:center;flex-wrap:wrap;margin-bottom:18px">
      <div class="stat"><div class="num" data-target="78">0</div><div class="lbl small">Exams Created</div></div>
      <div class="stat"><div class="num" data-target="1440">0</div><div class="lbl small">Attempts Logged</div></div>
      <div class="stat"><div class="num" data-target="1200">0</div><div class="lbl small">Students</div></div>
    </div>

    <h3 style="text-align:center;margin-bottom:14px">What institutions say</h3>
    <div class="testimonials">
      <div class="testimonial"><strong>University of Health</strong><p class="small">‚ÄúMedEx helped scale our OSCE exams securely during the pandemic.‚Äù</p></div>
      <div class="testimonial"><strong>City Medical College</strong><p class="small">‚ÄúExcellent proctor logs and simple admin tools.‚Äù</p></div>
      <div class="testimonial"><strong>Regional Health Board</strong><p class="small">‚ÄúGreat for remote assessments and audits.‚Äù</p></div>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="container reveal">
    <h2 class="section-title">Frequently Asked Questions</h2>
    <div class="faq">
      <div class="faq-item">
        <div class="faq-q"><div>Is MedEx secure?</div><div class="small toggle">+</div></div>
        <div class="faq-a small">Yes ‚Äî webcam snapshots, browser activity logging and randomized delivery reduce fraud.</div>
      </div>
      <div class="faq-item">
        <div class="faq-q"><div>Does it work offline?</div><div class="small toggle">+</div></div>
        <div class="faq-a small">MedEx supports localStorage mode for offline testing, but live proctoring requires network.</div>
      </div>
      <div class="faq-item">
        <div class="faq-q"><div>Can I export results?</div><div class="small toggle">+</div></div>
        <div class="faq-a small">Yes ‚Äî admins can export CSVs of exam results and proctor logs from the admin dashboard.</div>
      </div>
    </div>
  </section>

  <!-- CONTACT -->
  <section id="contact" class="container reveal">
    <h2 class="section-title">Contact & Support</h2>
    <div class="contact-grid">
      <form id="contactForm" class="contact-card contact-card form" novalidate>
        <input id="cname" placeholder="Full name" required />
        <input id="cemail" type="email" placeholder="Email address" required />
        <textarea id="cmessage" rows="5" placeholder="Message" required></textarea>
        <div style="display:flex;gap:8px;align-items:center">
          <button class="btn btn-primary" type="submit">Send Message</button>
          <div id="cstatus" class="small" aria-live="polite"></div>
        </div>
      </form>
      <aside class="contact-card">
        <p><strong>Office</strong><br/>123 MedEx Plaza, Port Harcourt, Nigeria</p>
        <p><strong>Support</strong><br/>+234 800 123 4567<br/>support@medex.com</p>
        <p class="small">Support hours: Mon‚ÄìFri 08:00‚Äì18:00</p>
      </aside>
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    <div class="container">
      <p style="color:rgba(255,255,255,0.9)">¬© <span id="year"></span> MedEx ‚Äî Secure Proctored Exams</p>
    </div>
  </footer>

  <button id="toTop" aria-label="Scroll to top">‚Üë</button>

<script>
/* =========================
   MedEx Landing ‚Äî Behavior JS
   - Preloader
   - Canvas background (medical particles)
   - Micro-canvas illustration pulse
   - Typewriter headline
   - Animated counters
   - Countdown for next exam (reads localStorage.exams if set)
   - FAQ toggle + contact form storing to localStorage
   - Smooth scroll + reveal on scroll
   ========================= */

(function(){
  // helper
  const $ = s => document.querySelector(s);
  const $$ = s => Array.from(document.querySelectorAll(s));
  const nowYear = new Date().getFullYear(); $('#year').textContent = nowYear;

  // PRELOADER
  const pre = $('#preloader');
  window.addEventListener('load', () => {
    setTimeout(()=> {
      pre.style.transition = 'opacity .6s ease';
      pre.style.opacity = '0';
      setTimeout(()=> pre.remove(), 700);
      document.body.style.overflow = 'auto';
      revealAll();
      startTypewriter();
      startCounters();
      initCountdownFromLocal();
      initHeroMicroCanvas(); // start after reveal
    }, 600);
  });

  // SMOOTH SCROLL
  document.querySelectorAll('a[href^="#"]').forEach(a=>{
    a.addEventListener('click', (e)=>{
      const href = a.getAttribute('href');
      if(href.length>1){
        e.preventDefault();
        const el = document.querySelector(href);
        if(el) el.scrollIntoView({behavior:'smooth',block:'start'});
      }
    });
  });

  // REVEAL ON SCROLL
  function revealAll(){ $$('.reveal').forEach((el,i)=> setTimeout(()=> el.classList.add('show'), 160 + i*80)); }
  const io = new IntersectionObserver(entries=>{
    entries.forEach(ent => {
      if(ent.isIntersecting) ent.target.classList.add('show');
    });
  }, {threshold:0.12});
  $$('.reveal').forEach(el => io.observe(el));

  // TO TOP
  const toTop = $('#toTop');
  window.addEventListener('scroll', ()=> { toTop.style.display = window.scrollY>520 ? 'block':'none'; });
  toTop.addEventListener('click', ()=> window.scrollTo({top:0,behavior:'smooth'}));

  // TYPEWRITER
  const phrases = [
    "Secure. Scalable. Smart.",
    "Designed for medical education.",
    "Randomized questions for auditability.",
    "Proctored. Instant. Trusted."
  ];
  let typeIdx = 0, charIdx = 0;
  const typedEl = $('#typed');

  function startTypewriter(){ typeIdx = 0; charIdx = 0; typedEl.textContent = ''; setTimeout(typeNext, 200); }
  function typeNext(){
    const txt = phrases[typeIdx];
    if(charIdx <= txt.length){
      typedEl.textContent = txt.slice(0,charIdx);
      charIdx++;
      setTimeout(typeNext, 70);
    } else {
      setTimeout(erase, 1400);
    }
  }
  function erase(){
    const txt = phrases[typeIdx];
    if(charIdx > 0){
      charIdx--;
      typedEl.textContent = txt.slice(0,charIdx);
      setTimeout(erase, 40);
    } else {
      typeIdx = (typeIdx + 1) % phrases.length;
      setTimeout(typeNext, 300);
    }
  }

  // COUNTERS (animated)
  function startCounters(){
    $$('.num').forEach(el => {
      const target = Number(el.dataset.target || 0);
      const dur = 1400 + Math.random()*800;
      animateNumber(el, 0, target, dur);
    });
  }
  function animateNumber(el, from, to, duration){
    const start = performance.now();
    function step(now){
      const t = Math.min(1, (now - start)/duration);
      const val = Math.floor(from + (to - from) * easeOutCubic(t));
      el.textContent = val.toLocaleString();
      if(t < 1) requestAnimationFrame(step);
    }
    requestAnimationFrame(step);
  }
  function easeOutCubic(t){ return (--t)*t*t+1; }

  // HERO CANVAS BACKGROUND (medical particles)
  (function heroCanvas(){
    const canvas = document.getElementById('heroCanvas');
    if(!canvas) return;
    const ctx = canvas.getContext('2d');
    let W = canvas.width = innerWidth;
    let H = canvas.height = innerHeight;
    window.addEventListener('resize', ()=> { W = canvas.width = innerWidth; H = canvas.height = innerHeight; });

    const icons = ['steth','heart','pill'];
    const particles = [];
    const N = Math.max(24, Math.floor((W*H)/90000));
    function rand(min,max){ return Math.random()*(max-min)+min; }
    for(let i=0;i<N;i++){
      particles.push({
        x: rand(0,W), y: rand(0,H),
        vx: rand(-0.25,0.25), vy: rand(-0.15,0.15),
        s: rand(0.6,1.6), a: rand(0.18,0.86), rot: rand(0,Math.PI*2), rvel: rand(-0.002,0.002),
        type: icons[Math.floor(Math.random()*icons.length)]
      });
    }

    function drawSteth(x,y,s,alpha){
      ctx.save(); ctx.globalAlpha = alpha; ctx.translate(x,y); ctx.rotate(0.15);
      ctx.strokeStyle = 'rgba(10,30,50,0.14)'; ctx.lineWidth = 2*s;
      ctx.beginPath(); ctx.arc(-6*s,-6*s,8*s,0,Math.PI*2); ctx.stroke();
      ctx.beginPath(); ctx.moveTo(-2*s,2*s); ctx.lineTo(8*s,10*s); ctx.stroke();
      ctx.restore();
    }
    function drawHeart(x,y,s,alpha){
      ctx.save(); ctx.globalAlpha = alpha; ctx.translate(x,y);
      ctx.fillStyle = 'rgba(255,209,102,0.85)';
      ctx.beginPath(); ctx.moveTo(0,-6*s); ctx.bezierCurveTo(8*s,-22*s,34*s,-6*s,0,22*s); ctx.bezierCurveTo(-34*s,-6*s,-8*s,-22*s,0,-6*s);
      ctx.fill(); ctx.restore();
    }
    function drawPill(x,y,s,alpha){
      ctx.save(); ctx.globalAlpha = alpha; ctx.translate(x,y);
      ctx.fillStyle = 'rgba(255,255,255,0.9)'; ctx.fillRect(-8*s,-6*s,16*s,12*s);
      ctx.strokeStyle = 'rgba(14,167,155,0.9)'; ctx.lineWidth = 1.6*s; ctx.beginPath(); ctx.moveTo(0,-6*s); ctx.lineTo(0,6*s); ctx.stroke();
      ctx.restore();
    }

    function step(){
      ctx.clearRect(0,0,W,H);
      // subtle overlay
      const g = ctx.createLinearGradient(0,0,W,H); g.addColorStop(0,'rgba(14,167,155,0.02)'); g.addColorStop(1,'rgba(46,139,87,0.02)');
      ctx.fillStyle = g; ctx.fillRect(0,0,W,H);
      for(const p of particles){
        p.x += p.vx; p.y += p.vy; p.rot += p.rvel;
        if(p.x < -80) p.x = W+80; if(p.x > W+80) p.x = -80;
        if(p.y < -80) p.y = H+80; if(p.y > H+80) p.y = -80;
        p.a = 0.35 + 0.45*Math.sin(Date.now()/1400 + p.x*0.001);
        if(p.type === 'steth') drawSteth(p.x,p.y,p.s,p.a);
        if(p.type === 'heart') drawHeart(p.x,p.y,p.s,p.a);
        if(p.type === 'pill') drawPill(p.x,p.y,p.s,p.a);
      }
      requestAnimationFrame(step);
    }
    requestAnimationFrame(step);
  })();

  // MICRO-CANVAS IN HERO CARD (pulse/proctor representation)
  function initHeroMicroCanvas(){
    const card = document.querySelector('.hero-card');
    if(!card) return;
    const c = card.querySelector('.micro-canvas');
    if(!c) return;
    const ctx = c.getContext('2d');
    const DPR = window.devicePixelRatio || 1;
    const W = c.width = c.clientWidth * DPR;
    const H = c.height = c.clientHeight * DPR;
    ctx.scale(DPR,DPR);
    let t0 = 0;
    function draw(ts){
      if(!t0) t0 = ts;
      const t = (ts - t0)/1000;
      ctx.clearRect(0,0,c.clientWidth,c.clientHeight);
      const cx = c.clientWidth/2, cy = c.clientHeight/2;
      // waves
      for(let i=0;i<3;i++){
        const r = 36 + i*20 + 6*Math.sin(t*1.6 + i);
        ctx.beginPath(); ctx.arc(cx,cy,r,0,Math.PI*2);
        ctx.strokeStyle = `rgba(14,167,155,${0.08 - i*0.02})`; ctx.lineWidth = 2; ctx.stroke();
      }
      // device mock
      ctx.fillStyle = '#fff'; ctx.fillRect(cx-80,cy-36,160,72);
      ctx.strokeStyle = '#e9f8f6'; ctx.strokeRect(cx-80,cy-36,160,72);
      ctx.fillStyle = '#07324d'; ctx.font = '700 13px Inter'; ctx.fillText('Q 12 of 50', cx-68, cy-12);
      requestAnimationFrame(draw);
    }
    requestAnimationFrame(draw);
  }

  // ANIMATED COUNTERS (secondary, additional)
  // (already invoked on load via startCounters)

  // COUNTDOWN (reads localStorage.exams if available)
  function initCountdownFromLocal(){
    const wrapper = $('#countdownWrapper');
    const text = $('#countdownText');
    const exams = JSON.parse(localStorage.getItem('exams') || '[]');
    if(!exams || exams.length === 0){
      text.textContent = 'No upcoming exams scheduled';
      return;
    }
    // pick next exam that is in future, by startDate
    const now = Date.now();
    const future = exams.map(e=> ({...e, start: new Date(e.startDate).getTime()})).filter(e => e.start && e.start > now);
    if(!future.length){ text.textContent = 'No upcoming exams scheduled'; return; }
    future.sort((a,b)=> a.start - b.start);
    const next = future[0];
    // show title and countdown
    function update(){
      const diff = new Date(next.start) - Date.now();
      if(diff <= 0){ text.textContent = `${next.examTitle} starting now`; return; }
      const d = Math.floor(diff / (1000*60*60*24));
      const h = Math.floor((diff / (1000*60*60)) % 24);
      const m = Math.floor((diff / (1000*60)) % 60);
      const s = Math.floor((diff/1000) % 60);
      text.textContent = `${next.examTitle} ‚Äî starts in ${d}d ${h}h ${m}m ${s}s`;
    }
    update(); setInterval(update, 1000);
  }

  // FAQ toggles
  $$('.faq-item').forEach(item=>{
    const q = item.querySelector('.faq-q');
    const a = item.querySelector('.faq-a');
    q.addEventListener('click', ()=>{
      const open = a.style.display === 'block';
      $$('.faq-a').forEach(x => x.style.display = 'none');
      $$('.faq-item .toggle').forEach(t => t.textContent = '+');
      if(!open){ a.style.display = 'block'; q.querySelector('.toggle').textContent = '‚àí'; } else { a.style.display = 'none'; q.querySelector('.toggle').textContent = '+'; }
    });
  });

  // CONTACT FORM (store to localStorage.contactQueue)
  const contactForm = $('#contactForm');
  if(contactForm){
    contactForm.addEventListener('submit', (e)=>{
      e.preventDefault();
      const name = $('#cname').value.trim();
      const email = $('#cemail').value.trim();
      const msg = $('#cmessage').value.trim();
      const status = $('#cstatus');
      if(!name || !email || !msg){ status.textContent = 'Please fill all fields'; status.style.color = 'crimson'; return; }
      const queue = JSON.parse(localStorage.getItem('contactQueue') || '[]');
      queue.push({name,email,msg,ts: new Date().toISOString()});
      localStorage.setItem('contactQueue', JSON.stringify(queue));
      status.textContent = 'Message saved locally ‚Äî admins can retrieve it from dashboard.';
      status.style.color = 'green';
      contactForm.reset();
      setTimeout(()=> status.textContent = '', 4000);
    });
  }

  // small accessible keyboard focus helper
  (function focusVisible(){
    function handleFirstTab(e){
      if(e.key === 'Tab'){ document.body.classList.add('user-is-tabbing'); window.removeEventListener('keydown', handleFirstTab); }
    }
    window.addEventListener('keydown', handleFirstTab);
  })();

})();
</script>
</body>
</html>
